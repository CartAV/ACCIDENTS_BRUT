{
  "queries": {
    "8lonmtekkth": [
      {
        "mode": "SQL",
        "id": "L4uNfeGlJXMm",
        "runOn": 1521026209626,
        "runIn": 302,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "u4dE0u90",
        "hash": "6aa45d9cce54e5361df407ce1f5dd590",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT COUNT(DISTINCT \"Num_Acc\")\nFROM \"lieux_vertica\"",
        "expandedSql": "SELECT COUNT(DISTINCT \"Num_Acc\")\nFROM \"lieux_vertica\""
      },
      {
        "mode": "SQL",
        "id": "v4ZNyQvCe67p",
        "runOn": 1521026225494,
        "runIn": 37,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "AHkADsgb",
        "hash": "fee068891e6d25bc763d4e1a09a8d3bb",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT COUNT(*)\nFROM \"lieux_vertica\"",
        "expandedSql": "SELECT COUNT(*)\nFROM \"lieux_vertica\""
      },
      {
        "mode": "SQL",
        "id": "7m6OGnqF0ZlJ",
        "runOn": 1521026244270,
        "runIn": 317,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "5YSpK5yb",
        "hash": "6aa45d9cce54e5361df407ce1f5dd590",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT COUNT(DISTINCT \"Num_Acc\")\nFROM \"lieux_vertica\"",
        "expandedSql": "SELECT COUNT(DISTINCT \"Num_Acc\")\nFROM \"lieux_vertica\""
      },
      {
        "mode": "SQL",
        "id": "k1FpcVqXao4w",
        "runOn": 1521026271737,
        "runIn": 303,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "n52tSWum",
        "hash": "6a08ee68dfde588f9b2ccac5afdbbb9b",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT COUNT(DISTINCT \"Num_Acc\")\nFROM \"usagers_vertica\"",
        "expandedSql": "SELECT COUNT(DISTINCT \"Num_Acc\")\nFROM \"usagers_vertica\""
      },
      {
        "mode": "SQL",
        "id": "IPLoT0e0Su6d",
        "runOn": 1521026321721,
        "runIn": 51,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "8flr2jzU",
        "hash": "2c50a95f9955d861185a4ca83cd1565c",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT COUNT(*)\nFROM \"usagers_vertica\"",
        "expandedSql": "SELECT COUNT(*)\nFROM \"usagers_vertica\""
      }
    ],
    "hcxbjsaq7ih": [
      {
        "mode": "SQL",
        "id": "4Q5loKFSh6oA",
        "runOn": 1534431932950,
        "runIn": 158,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "kfd5Iyy8",
        "hash": "2e49f1f9503d561c08219fe6e80f4d95",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT LENGTH(Num_Acc)\nFROM \"caracteristiques_vertica\"",
        "expandedSql": "SELECT LENGTH(Num_Acc)\nFROM \"caracteristiques_vertica\""
      },
      {
        "mode": "SQL",
        "id": "M70Eel6fRdWI",
        "runOn": 1534431949180,
        "runIn": 374,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "wkRdlmzP",
        "hash": "2702198619baf5a176041c422694f189",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT LENGTH(Num_Acc), COUNT(*)\nFROM \"caracteristiques_vertica\"\nGROUP BY LENGTH(Num_Acc)",
        "expandedSql": "SELECT LENGTH(Num_Acc), COUNT(*)\nFROM \"caracteristiques_vertica\"\nGROUP BY LENGTH(Num_Acc)"
      }
    ],
    "90kcv9zfexe": [
      {
        "mode": "SQL",
        "id": "2XxC3rKGHp5s",
        "runOn": 1536848327120,
        "runIn": 727,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "a8q1do8p",
        "hash": "6053db8c9ef3e52a911467f94fd76d75",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "\nSELECT /*+ label(estimated_raw_size)*/\n       public.anchor_table_schema,\n       public.used_compressed_gb,\n       public.used_compressed_gb * la.ratio AS raw_estimate_gb\nFROM   (SELECT ps.anchor_table_schema,\n               SUM(used_bytes) / ( 1024^3 ) AS used_compressed_gb\n        FROM   v_catalog.projections p\n               JOIN v_monitor.projection_storage ps\n                 ON ps.projection_id \u003d p.projection_id\n        WHERE  p.is_super_projection \u003d \u0027t\u0027\n        GROUP  BY ps.anchor_table_schema) public\n       CROSS JOIN (SELECT (SELECT database_size_bytes\n                           FROM   v_catalog.license_audits\n                           ORDER  BY audit_start_timestamp DESC\n                           LIMIT  1) / (SELECT SUM(used_bytes)\n                                        FROM   V_MONITOR.projection_storage) AS ratio) la\nORDER  BY public.used_compressed_gb DESC;\n ",
        "expandedSql": "\nSELECT /*+ label(estimated_raw_size)*/\n       public.anchor_table_schema,\n       public.used_compressed_gb,\n       public.used_compressed_gb * la.ratio AS raw_estimate_gb\nFROM   (SELECT ps.anchor_table_schema,\n               SUM(used_bytes) / ( 1024^3 ) AS used_compressed_gb\n        FROM   v_catalog.projections p\n               JOIN v_monitor.projection_storage ps\n                 ON ps.projection_id \u003d p.projection_id\n        WHERE  p.is_super_projection \u003d \u0027t\u0027\n        GROUP  BY ps.anchor_table_schema) public\n       CROSS JOIN (SELECT (SELECT database_size_bytes\n                           FROM   v_catalog.license_audits\n                           ORDER  BY audit_start_timestamp DESC\n                           LIMIT  1) / (SELECT SUM(used_bytes)\n                                        FROM   V_MONITOR.projection_storage) AS ratio) la\nORDER  BY public.used_compressed_gb DESC;\n "
      },
      {
        "mode": "SQL",
        "id": "R4UX2sogAH6F",
        "runOn": 1536848367953,
        "runIn": 14,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "FAILED",
        "futureId": "0mY4WDBA",
        "hash": "d8c24b2e7ab9a7a5ab2d92ffa486801e",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT \n       anchor_table_schema,\n       anchor_table_name,\n       \nFROM   v_monitor.projection_storage",
        "expandedSql": "SELECT \n       anchor_table_schema,\n       anchor_table_name,\n       \nFROM   v_monitor.projection_storage"
      },
      {
        "mode": "SQL",
        "id": "NQR4Mh6CYlCW",
        "runOn": 1536848373346,
        "runIn": 345,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "L3l6Tmuo",
        "hash": "08c19ba0a8e6238d8759d089114c33d6",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT \n       anchor_table_schema,\n       anchor_table_name\n       \nFROM   v_monitor.projection_storage",
        "expandedSql": "SELECT \n       anchor_table_schema,\n       anchor_table_name\n       \nFROM   v_monitor.projection_storage"
      },
      {
        "mode": "SQL",
        "id": "pBOctlKpyGmE",
        "runOn": 1536848997477,
        "runIn": 241,
        "runBy": "dupontlau",
        "connection": "datalabmaster",
        "state": "DONE",
        "futureId": "k67Pqhrl",
        "hash": "ebb59546eba0af601424c2514fef0e74",
        "querySettings": {
          "addLimitToStatement": true,
          "statementsOutOfTransaction": false,
          "inheritConf": "default",
          "extraConf": [],
          "addDkuUdf": false,
          "statementsParseMode": "SPLIT",
          "statementsExecutionMode": "PREPARED"
        },
        "sql": "SELECT SUM(used_compressed_gb) FROM\n(\nSELECT /*+ label(compressed_table_size)*/\n       anchor_table_schema,\n       anchor_table_name,\n       SUM(used_bytes) / ( 1024^3 ) AS used_compressed_gb\nFROM   v_monitor.projection_storage\nWHERE anchor_table_name LIKE \u0027%accident%\u0027\nOR anchor_table_name LIKE \u0027%pve%\u0027\nOR anchor_table_name LIKE \u0027%cartav%\u0027\nGROUP  BY anchor_table_schema,\n          anchor_table_name\nORDER  BY SUM(used_bytes) DESC\n) table_sizes",
        "expandedSql": "SELECT SUM(used_compressed_gb) FROM\n(\nSELECT /*+ label(compressed_table_size)*/\n       anchor_table_schema,\n       anchor_table_name,\n       SUM(used_bytes) / ( 1024^3 ) AS used_compressed_gb\nFROM   v_monitor.projection_storage\nWHERE anchor_table_name LIKE \u0027%accident%\u0027\nOR anchor_table_name LIKE \u0027%pve%\u0027\nOR anchor_table_name LIKE \u0027%cartav%\u0027\nGROUP  BY anchor_table_schema,\n          anchor_table_name\nORDER  BY SUM(used_bytes) DESC\n) table_sizes"
      }
    ]
  }
}